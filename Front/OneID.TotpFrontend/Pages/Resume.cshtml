@page "/resume"
@model ResumeModel
@{
    Layout = "_Layout";
}

<div class="flex justify-center items-center min-h-screen bg-zinc-900 text-white">
    <div class="w-full max-w-3xl p-8 rounded-2xl shadow-xl bg-zinc-800">
        <h1 class="text-2xl font-bold mb-6">Processos de admissão pendentes</h1>

        @if (Model.PendingProcesses.Any())
        {
            <table class="w-full text-left table-auto border-collapse">
                <thead>
                    <tr class="border-b border-zinc-700 text-zinc-400 text-sm">
                        <th class="py-2">Nome</th>
                        <th class="py-2">Data de criação</th>
                        <th class="py-2">Ações</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.PendingProcesses)
                    {
                        <tr class="border-b border-zinc-700 hover:bg-zinc-700/40">
                            <td class="py-2">@item.FullName</td>
                            <td class="py-2">@item.CreatedAt.ToLocalTime().ToString("dd/MM/yyyy HH:mm")</td>
                            <td class="py-2">
                                <form method="post" asp-page-handler="ResumeSingle">
                                    <input type="hidden" name="CorrelationId" value="@item.CorrelationId" />
                                    <button type="submit" class="text-green-400 hover:text-green-300 font-medium">
                                        Retomar
                                    </button>
                                </form>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        else
        {
            <p class="text-zinc-400">Nenhum processo pendente encontrado.</p>
        }

        @if (!string.IsNullOrEmpty(Model.ResultMessage))
        {
            <div class="mt-6 text-sm text-yellow-400">@Model.ResultMessage</div>
        }
    </div>
</div>
